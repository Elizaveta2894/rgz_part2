{% extends "base.html" %}

{% block title %}–í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã - –ö—É–ª–∏–Ω–∞—Ä–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã{% endblock %}

{% block content %}
<div class="hero">
    <h1>üìö –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã</h1>
    <p>–ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –∏–∑ {{ recipes_count }} –≤–∫—É—Å–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤</p>
</div>

<div class="recipes-controls">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <div>
            <span>–ü–æ–∫–∞–∑–∞–Ω–æ: {{ recipes|length }} –∏–∑ {{ recipes_count }}</span>
        </div>
        <div>
            <button onclick="location.reload()" class="btn btn-secondary">
                <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
            </button>
        </div>
    </div>
</div>

<div class="recipes-grid">
    {% for recipe in recipes %}
    <div class="recipe-card">
        <img src="{{ recipe.image_url }}" alt="{{ recipe.title }}" class="recipe-image">
        <div class="recipe-content">
            <h3 class="recipe-title">
                <a href="{{ url_for('recipe_detail', recipe_id=recipe.id) }}">
                    {{ recipe.title }}
                </a>
            </h3>
            <div class="recipe-meta">
                <span class="recipe-category">{{ recipe.category }}</span>
                <span class="recipe-difficulty difficulty-{{ recipe.difficulty.lower() }}">
                    {{ recipe.difficulty }}
                </span>
            </div>
            <div class="recipe-ingredients-preview">
                {{ recipe.ingredients[:3]|join(', ') }}...
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                <span><i class="far fa-clock"></i> {{ recipe.cooking_time }} –º–∏–Ω</span>
                <a href="{{ url_for('recipe_detail', recipe_id=recipe.id) }}" class="recipe-link">
                    –°–º–æ—Ç—Ä–µ—Ç—å
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% if total_pages > 1 %}
<div class="pagination" style="text-align: center; margin-top: 40px;">
    {% if page > 1 %}
        <a href="{{ url_for('all_recipes', page=page-1) }}" class="btn btn-secondary">
            <i class="fas fa-chevron-left"></i> –ù–∞–∑–∞–¥
        </a>
    {% endif %}
    
    <span style="margin: 0 20px;">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page }} –∏–∑ {{ total_pages }}</span>
    
    {% if page < total_pages %}
        <a href="{{ url_for('all_recipes', page=page+1) }}" class="btn btn-secondary">
            –í–ø–µ—Ä–µ–¥ <i class="fas fa-chevron-right"></i>
        </a>
    {% endif %}
</div>
{% endif %}
{% endblock %}